<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/bulma@0.9.0/css/bulma.min.css" />
        <!-- to send a post request to get order_id  -->
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <!-- razorpay -->
        <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <title>Payment</title>
</head>
<body>
    <section class="hero is-primary  is-fullheight">
        <div class="hero-body">
            <div class="container ">

                <div class="columns is-mobile is-centered">
                    <div class="column is-half">
                        <figure class="image is-128x128">
                            <img class="is-rounded" src="https://image.flaticon.com/icons/png/512/2960/2960153.png">
                          </figure>
                      <div class="field">
                        <label class="label">Enter your Name: </label>
                        <div class="control">
                          <input class="input" type="text" placeholder="e.g Alex Smith">
                        </div>
                      </div>
                      
                      <div class="field">
                        <label class="label">Enter your Email: </label>
                        <div class="control">
                          <input class="input" type="email" placeholder="e.g. alexsmith@gmail.com">
                        </div>
                      </div>
                      
                      <div class="field">
                        <label class="label">Enter Amount you want to donate: </label>
                        <div class="control">
                          <input class="input" type="text" id="order-amt" placeholder="500â‚¹">
                        </div>
                      </div>
                      
                      <div class="control">
                        <button id= "rzp-button1" class="button is-warning is-medium">Donate</button>
                      </div>
        

                    </div>
                  </div>


            </div>
       </div>
    </section>
<script>
    axios.post('/order').then((info)=>{
        console.log(info)
 var options = {
        "key": 'rzp_test_aOwE6JvNP9xbw3', // Enter the Key ID generated from the Dashboard
        "amount": "50000",
        "name": "Help Pets",
        "description": "Test Transaction",
        "image": "https://image.flaticon.com/icons/png/512/2960/2960153.png",
        "order_id": info.data.id, //This is a sample Order ID. Pass the `id` obtained in the response of Step 1
        "callback_url": "https://eneqd3r9zrjok.x.pipedream.net/",

        "theme": {
            "color": "#FDAFB5"
        }
};

    var rzp1 = new Razorpay(options);
    document.getElementById('rzp-button1').onclick = function(e){
        rzp1.open();
        e.preventDefault();
    }

    })
</script>
</body>
</html>